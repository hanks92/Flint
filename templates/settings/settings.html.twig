{% extends 'layouts/authenticated.html.twig' %}

{% block title %}Modifier les paramètres{% endblock %}

{% block body %}
    <section class="py-12 bg-gray-50 dark:bg-gray-900 min-h-screen">
        <div class="container mx-auto max-w-lg px-4">
            <div class="ud-login-wrapper p-6 rounded-lg shadow bg-white dark:bg-gray-800">
                <div class="text-center mb-6">
                    <h2 class="text-2xl font-semibold text-gray-800 dark:text-white">Modifier vos paramètres</h2>
                </div>

                {{ form_start(settingsForm, {'attr': {'class': 'ud-login-form'}}) }}

                    <div class="ud-form-group mb-4">
                        {{ form_widget(settingsForm.username, {
                            'attr': {
                                'placeholder': "Nom d'utilisateur",
                                'class': 'form-control'
                            }
                        }) }}
                        {{ form_errors(settingsForm.username) }}
                    </div>

                    <div class="ud-form-group mb-4">
                        {{ form_widget(settingsForm.plainPassword, {
                            'attr': {
                                'placeholder': "Nouveau mot de passe",
                                'class': 'form-control'
                            }
                        }) }}
                        {{ form_errors(settingsForm.plainPassword) }}
                    </div>

                    <div class="ud-form-group mb-4">
                        <label class="form-label">Choisissez un avatar</label>
                        <div class="flex flex-wrap gap-3">
                            {% for choice in settingsForm.profileImage %}
                                <label class="relative">
                                    {{ form_widget(choice, {'attr': {'class': 'hidden'}}) }}
                                    <img src="{{ asset(choice.vars.value) }}" alt="Avatar" class="rounded-full border avatar-img cursor-pointer w-16 h-16">
                                </label>
                            {% endfor %}
                        </div>
                        {{ form_errors(settingsForm.profileImage) }}
                    </div>

                    <div class="ud-form-group mb-4">
                        {{ form_label(settingsForm.theme, "Choisissez un thème", {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(settingsForm.theme, {
                            'attr': {
                                'class': 'form-control'
                            }
                        }) }}
                        {{ form_errors(settingsForm.theme) }}
                    </div>

                    <div class="ud-form-group">
                        <button type="submit" class="ud-main-btn w-full">Enregistrer les modifications</button>
                    </div>

                {{ form_end(settingsForm) }}
            </div>
        </div>
    </section>
{% endblock %}
