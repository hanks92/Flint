{% extends 'layouts/authenticated.html.twig' %}

{% block title %}Paramètres du compte{% endblock %}

{% block banner %}
<section class="ud-page-banner">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="ud-banner-content">
          <h1>Paramètres du compte</h1>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block body %}
<section class="ud-login py-12">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="ud-login-wrapper">
          <div class="ud-login-logo text-center mb-6">
            <img src="{{ asset('assets/images/logo/logo-2.png') }}" alt="logo" class="mx-auto h-16">
          </div>

          <h2 class="text-center text-2xl font-semibold text-gray-800 dark:text-white mb-6">
            Modifier vos paramètres
          </h2>

          {{ form_start(settingsForm, {'attr': {'class': 'ud-login-form'}}) }}

            <div class="ud-form-group mb-4">
              {{ form_label(settingsForm.username, null, {'label_attr': {'class': 'form-label'}}) }}
              {{ form_widget(settingsForm.username, {
                'attr': {
                  'placeholder': "Nom d'utilisateur",
                  'class': 'form-control'
                }
              }) }}
              {{ form_errors(settingsForm.username) }}
            </div>

            <div class="ud-form-group mb-4">
              {{ form_label(settingsForm.plainPassword, null, {'label_attr': {'class': 'form-label'}}) }}
              {{ form_widget(settingsForm.plainPassword, {
                'attr': {
                  'placeholder': "Nouveau mot de passe",
                  'class': 'form-control'
                }
              }) }}
              {{ form_errors(settingsForm.plainPassword) }}
            </div>

            <div class="ud-form-group mb-4">
              <label class="form-label">Choisissez un avatar</label>
              <div class="d-flex flex-wrap gap-3 justify-content-start" id="avatar-selection">
                {% for choice in settingsForm.profileImage %}
                  <label class="cursor-pointer text-center">
                    {{ form_widget(choice, {'attr': {'class': 'd-none'}}) }}
                    <img src="{{ asset(choice.vars.value) }}" alt="Avatar"
                      class="rounded-circle border avatar-img w-20 h-20 object-cover hover:border-primary border-2" />
                  </label>
                {% endfor %}
              </div>
              {{ form_errors(settingsForm.profileImage) }}
            </div>

            <div class="ud-form-group mb-4">
              {{ form_label(settingsForm.theme, "Choisissez un thème", {'label_attr': {'class': 'form-label'}}) }}
              {{ form_widget(settingsForm.theme, {
                'attr': {
                  'class': 'form-control'
                }
              }) }}
              {{ form_errors(settingsForm.theme) }}
            </div>

            <div class="ud-form-group">
              <button type="submit" class="ud-main-btn w-100">Enregistrer les modifications</button>
            </div>

          {{ form_end(settingsForm) }}
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
